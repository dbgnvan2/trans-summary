# Document Reference Guide

This table shows what content is included in each document type produced by the transcript processing pipeline.

## Document Content Matrix

| Document Type            | Filename Pattern                                 | YAML Metadata | Abstract | Topics | Themes | Key Terms | Bowen Refs | Emphasis Items | Full Transcript | Notes                                                      |
| ------------------------ | ------------------------------------------------ | ------------- | -------- | ------ | ------ | --------- | ---------- | -------------- | --------------- | ---------------------------------------------------------- |
| **Source Transcript**    | `Title - Presenter - Date.txt`                   | ❌            | ❌       | ❌     | ❌     | ❌        | ❌         | ❌             | ✅              | Raw transcript from transcription service                  |
| **Formatted Transcript** | `Title - Presenter - Date - formatted.md`        | ❌            | ❌       | ❌     | ❌     | ❌        | ❌         | ❌             | ✅              | Validated formatting, speaker labels, timestamps           |
| **YAML Transcript**      | `Title - Presenter - Date_yaml.md`               | ✅            | ❌       | ❌     | ❌     | ❌        | ❌         | ❌             | ✅              | Formatted transcript with YAML front matter                |
| **Key Terms**            | `Title - Presenter - Date - key-terms.md`        | ✅            | ❌       | ❌     | ❌     | ✅        | ❌         | ❌             | ❌              | Terminology extraction with definitions                    |
| **Extracts-Summary**     | `Title - Presenter - Date - extracts-summary.md` | ✅            | ✅       | ✅     | ✅     | ✅        | ✅         | ✅             | ❌              | Comprehensive extracts-summary document with all summaries |
| **Abstracts**            | `Title - Presenter - Date - abstracts.md`        | ❌            | ✅ (3x)  | ❌     | ❌     | ❌        | ❌         | ❌             | ❌              | Quality assessment + Short + Extended validated abstracts  |
| **Blog Post**            | `Title - Presenter - Date - blog.md`             | ✅            | ✅       | ❌     | ❌     | ✅        | ❌         | ❌             | ❌              | SEO-optimized blog format for website                      |
| **Simple Webpage**       | `Title - Presenter - Date - simple.html`         | ❌            | ❌       | ❌     | ❌     | ❌        | ❌         | ❌             | ✅              | Single-column HTML with highlighting                       |
| **Full Webpage**         | `Title - Presenter - Date.html`                  | ❌            | ✅       | ✅     | ✅     | ✅        | ❌         | ❌             | ✅              | Two-column HTML with sidebar metadata and highlighting     |
| **PDF**                  | `Title - Presenter - Date.pdf`                   | ❌            | ✅       | ✅     | ✅     | ✅        | ✅         | ✅             | ✅              | Comprehensive print-ready document with all materials      |

## Content Details

### YAML Metadata

- Title, presenter, date, year
- Source recording filename
- Authenticity confirmation
- Processing stage indicators

### Abstract

- **In extracts-summary**: Initial abstract (165+ words) generated by Claude from transcript
- **In abstracts file**: Three versions:
  - **Assessment**: Quality scores (1-5) across 5 dimensions + recommendations
  - **Short Abstract**: Validated revision <150 words for quick reference
  - **Extended Abstract**: Validated revision 350-400 words for comprehensive overview
- Main focus, key insights, and theoretical contributions

### Topics

- Bulleted list of main subjects covered
- Organized hierarchically when applicable

### Themes

- Major conceptual threads
- Overarching ideas and patterns

### Key Terms

- 15-25 important terms with definitions
- Definition type (Explicit/Implicit/Not Defined)
- Source location and context notes
- Separated by horizontal rules (`---`)

### Bowen References

- Direct mentions of Bowen Family Systems Theory concepts
- Concept name and exact quote from transcript

### Emphasis Items

- Notable quotes or key moments
- Labeled with importance markers

### Full Transcript

- Complete transcript with speaker labels
- Timestamps at regular intervals
- Formatted for readability
- Highlighted key terms, Bowen references, emphasis items (in HTML/PDF)

## Workflow Stages

1. **Format & Validate**: Produces `formatted.md`
2. **Add YAML**: Produces `_yaml.md`
3. **Generate Summaries**: Produces `key-terms.md`, `extracts-summary.md`, and `blog.md`
4. **Validate Abstracts**: Produces `abstracts.md` with quality assessment and revised versions
5. **Generate Web-PDF**: Produces `simple.html`, `.html`, and `.pdf`

## File Locations

- Source transcripts: `~/transcripts/source/`
- Formatted transcripts: `~/transcripts/formatted/`
- Summaries: `~/transcripts/summaries/`
- Webpages: `~/transcripts/webpages/`
- PDFs: `~/transcripts/pdfs/`
- Processed (archived): `~/transcripts/processed/`

## Production Pipeline Detail

This section maps exactly how each file is created, tracing the flow of data from source to final artifacts.

| Step | Script / Module | Inputs | Key Operations | Outputs |
| :--- | :--- | :--- | :--- | :--- |
| **0. Initial Validation** | `transcript_initial_validation.py` | `[Source].txt` | Checks for typos, phonetic errors, and repeated phrases. Creates a clean version if errors are found. | `[Source]_validated.txt` |
| **1. Formatting** | `transcript_format.py` | `[Source]_validated.txt` | **LLM (Format Prompt)**: Removes timestamps, speaker labels, and filler words. Adds markdown headers. | `[Project]/[Name] - formatted.md` |
| **1b. Header Validation** | `transcript_validate_headers.py` | `formatted.md` | **LLM (Val Prompt)**: Checks headers for "editorializing" or non-neutral language. | `[Project]/[Name] - header-validation.md` |
| **2. Add Metadata** | `transcript_add_yaml.py` | `formatted.md` | Parses filename (`Title - Presenter - Date`) and prepends YAML front matter. | `[Project]/[Name] - yaml.md` |
| **3. Extract Insights** | `transcript_summarize.py` | `yaml.md` | **LLM (Extracts Prompt)**: Identifies Topics, Themes, and Key Terms. | `[Project]/[Name] - All Key Items.md`<br>`[Project]/[Name] - topics-themes-terms.md` |
| **3b. Emphasis** | `transcript_extract_emphasis.py` | `yaml.md` | **LLM (Emphasis Prompt)**: Scores quotes (0-100%) for importance. | `[Project]/[Name] - emphasis-scored.md` |
| **3c. Bowen Refs** | `transcript_extract_bowen.py` | `yaml.md` | **LLM (Bowen Prompt)**: Extracts specific references to Bowen Theory concepts. | `[Project]/[Name] - bowen-references.md` |
| **4. Generate Summary** | `transcript_process.py` (via pipeline) | `yaml.md`<br>`All Key Items.md` | **LLM (Summary Prompt)**: Synthesizes a structured summary using extracted topics. | `[Project]/[Name] - summary-generated.md` |
| **5. Validate Summary** | `transcript_validate_completeness.py` | `summary-generated.md` | **Algo + LLM**: Checks word count and topic coverage against `All Key Items.md`. | `[Project]/[Name] - summary-validation.txt` |
| **6. Generate Abstract** | `transcript_process.py` (via pipeline) | `yaml.md`<br>`All Key Items.md` | **LLM (Abstract Prompt)**: Drafts a high-level abstract based on the transcript and themes. | `[Project]/[Name] - abstract-generated.md` |
| **7. Validate Abstract** | `transcript_validate_abstract.py` | `abstract-generated.md` | **Algo + LLM**: Verifies coverage and length constraints. | `[Project]/[Name] - abstract-validation.txt` |
| **8. Blog Post** | `transcript_summarize.py` | `yaml.md` | **LLM (Blog Prompt)**: Rewrites content into an engaging blog format. | `[Project]/[Name] - blog.md` |
| **9. Webpages** | `transcript_to_webpage.py`<br>`html_generator.py` | `formatted.md`<br>`All Key Items.md`<br>`summary-generated.md`<br>`abstract-generated.md` | **Jinja2 Templates**: Combines all markdown artifacts into HTML with CSS styling and highlighting. | `[Project]/[Name].html`<br>`[Project]/[Name] - simple.html` |
| **10. PDF** | `transcript_to_pdf.py` | (Same as Webpages) | **WeasyPrint**: Renders the HTML content into a print-ready PDF. | `[Project]/[Name].pdf` |
| **11. Packaging** | `transcript_package.py` | All Outputs | Zips final artifacts into a single delivery file. | `[Project]/[Name].zip` |

